(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{69:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),s=n.n(c),o=n(10),i=n(9),u=n(3),l=n(12),j=n.n(l),h=n(17),p=n(18),b=n.n(p),d=n(11),O="SET_USER",x="LOGOUT",m={currentUser:{},isAuth:!1},f=function(e){return{type:O,payload:e}},v=function(){var e=Object(h.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("http://localhost:5000/api/auth/registration",{email:t,password:n});case 3:r=e.sent,alert(r.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),g=n(1),k=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("input",{onChange:function(t){return e.setValue(t.target.value)},value:e.value,type:e.type,placeholder:e.placeholder})})},y=[{path:"/cabinet",Component:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Cabinet"})})}},{path:"r/esult",Component:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Result"})})}},{path:"/game",Component:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Game"})})}},{path:"/create-questions",Component:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Create Questions"})})}}],w=[{path:"/",Component:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Main"})})}},{path:"/login",Component:function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),u=s[0],l=s[1],p=Object(i.b)();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)("div",{className:"autorization",children:Object(g.jsxs)("div",{className:"autorization__inner",children:[Object(g.jsx)(k,{value:n,setValue:a,type:"text",placeholder:"Email"}),Object(g.jsx)(k,{value:u,setValue:l,type:"password",placeholder:"Password"}),Object(g.jsx)("button",{onClick:function(){return p(function(e,t){return function(){var n=Object(h.a)(j.a.mark((function n(r){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.a.post("http://localhost:5000/api/auth/login",{email:e,password:t});case 3:a=n.sent,r(f(a.data.user)),localStorage.setItem("token",a.data.token),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0.response.data.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,u))},className:"registrartion__btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})}},{path:"/registration",Component:function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1];return Object(g.jsxs)("div",{className:"registration",children:[Object(g.jsx)("h1",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(g.jsxs)("div",{className:"registration__inner",children:[Object(g.jsx)(k,{value:n,setValue:a,type:"text",placeholder:"Email"}),Object(g.jsx)(k,{value:i,setValue:u,type:"password",placeholder:"Password"}),Object(g.jsx)("button",{onClick:function(){return v(n,i)},className:"registrartion__btn",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}}],C=function(){var e=Object(i.c)((function(e){return e.user.isAuth})),t=Object(i.b)();return Object(r.useEffect)((function(){t(function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("http://localhost:5000/api/auth/auth",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:n=e.sent,t(f(n.data.user)),localStorage.setItem("token",n.data.token),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(g.jsxs)(u.d,{children:[e?y.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(u.b,{path:t,component:n,exact:!0},t)})):w.map((function(e){var t=e.path,n=e.Component;return Object(g.jsx)(u.b,{path:t,component:n,exact:!0},t)})),Object(g.jsx)(u.a,{to:"/"})]})},S=function(){var e=Object(i.c)((function(e){return e.user.isAuth})),t=Object(i.b)();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"NavBar"}),e?Object(g.jsx)("button",{onClick:function(){return t({type:x})},children:"\u0412\u044b\u0445\u043e\u0434"}):Object(g.jsx)("div",{children:"\u0412\u0445\u043e\u0434"})]})};var N=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(o.a)(c,2),i=(s[0],s[1]);return Object(r.useEffect)((function(){fetch("https://stormy-peak-20800.herokuapp.com/api/auth/users").then((function(e){if(e.ok)return e.json()})).then((function(e){a(e),i(!0)}))}),[]),console.log(n),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(S,{}),Object(g.jsx)(C,{}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col",style:{fontSize:100},children:"\u0414\u043b\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u0435\u043d\u0438\u044f \u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043a\u0430\u0436\u0434\u043e\u0435 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u044b, \u043d\u043e \u0438 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u0435\u043d\u043d\u044b\u0439 (\u0437\u0430\u0435\u043c\u043d\u044b\u0439) \u043a\u0430\u043f\u0438\u0442\u0430\u043b. \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u0442 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0431\u043e\u0440\u043e\u0442\u043d\u044b\u0445 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0434\u043e\u043b\u0433\u043e\u0441\u0440\u043e\u0447\u043d\u044b\u0435 \u0438 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430, \u0442\u043e \u0435\u0441\u0442\u044c \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0443\u044e \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0438 \u043a\u0440\u0430\u0442\u043a\u043e\u0441\u0440\u043e\u0447\u043d\u044b\u0439 \u0431\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u043a\u0440\u0435\u0434\u0438\u0442, \u0440\u0438\u0441\u043a\u0443\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u043d\u0435 \u043f\u0440\u0438\u0432\u043b\u0435\u0447\u044c \u0432\u043e\u0432\u0440\u0435\u043c\u044f \u043d\u0443\u0436\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0434\u0435\u043d\u0435\u0433, \u0438 \u0442\u043e\u0433\u0434\u0430 \u043e\u043d\u043e \u043c\u043e\u0436\u0435\u0442 \u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u044b\u043c. \u0412 \u0441\u0432\u044f\u0437\u0438 \u0441 \u044d\u0442\u0438\u043c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u0435\u043c \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432 \u0438 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u043d\u0435\u0431\u043b\u0430\u0433\u043e\u043f\u0440\u0438\u044f\u0442\u043d\u044b\u0435 \u0442\u0435\u043d\u0434\u0435\u043d\u0446\u0438\u0438 \u2013 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u043f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432.        "})})]})},_=n(21),F=n(15),A=n(33),E=n(34),I=Object(F.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.payload,isAuth:!0});case x:return localStorage.removeItem("token"),Object(d.a)(Object(d.a)({},e),{},{currentUser:{},isAuth:!1});default:return e}}}),U=Object(F.createStore)(I,Object(E.composeWithDevTools)(Object(F.applyMiddleware)(A.a)));n(68);s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(_.a,{children:Object(g.jsx)(i.a,{store:U,children:Object(g.jsx)(N,{})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.46adb91e.chunk.js.map